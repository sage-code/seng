<html><head>
  <meta charset="utf-8">
  <meta name="description" content="Sage software architecture. Learn how to build high quality code from scratch.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="software, architecture, concept, design, best, practice">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>SC Architecture</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="../images/favicon.ico">
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="../prism.css">
  <script src="../prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="../sage.css">
  </head>
<body>

<div class="container">

<!-- header -->
<div class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="../images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>
    <div class="col  bottom-right">
        <a href="../engineering.html">index</a>&lt;--
    </div>
</div><hr>

<h1>Software Architecture</h1>

<div class="alert alert-secondary shadow-sm">
Software architecture is a comprehensible way of describing the components and functions of a software system. The purpose of this discipline is to get an abstract level of understanding for the reasons and values of the design choices.</div>

<h4>Motivation</h4>

<p>Software architecture is a Computer Science domain. Usually a software architect is also highly trained and experienced software developer. An architect has a leading role in a software project.</p>

<p>Architects are involved in the initial phase of the project and can move between projects, unlike developers who stick with one single project for a longer time. After an architecture is establish the project no longer require an architect.</p>

<p>Having an architecture design has a positive influence for the quality of software implementation. It can also contribute to cost reduction by elimination of risks for selecting the wrong technology. When the system is well designed then the team members can understand and implement code much faster by looking at the architecture documentation and make parts of the system that match well together, enabling the delivery on time and budget.</p>

<h4>Video Lecture</h4>

<p>If you have the time and bandwidth you can watch this video to learn all about software architecture. This video is less than 15 minutes long, and is very informative for beginners. It was filmed in Chicago by Elucian in Jul, 25, 2016.  Press the thumb up button if you like it. Enjoy!
</p>


<div align="center">
    <a href="https://www.youtube.com/watch?v=jG8OWwuOaW4"
    target="_blank" rel="nofollow noopener noreferrer">
    <img src="../images/youtube.svg" width="200" alt="Software Architecture"/></a>
</div>

<hr>

<h4>Bookmarks</h4>

<p>Use these bookmarks to read your favorite topic.</p>

<ul>
<li><a href="#principles">Architectural principles</a></li>
<li><a href="#quality">System quality</a></li>
<li><a href="#quality">Code quality</a></li>
<li><a href="#patterns">Design Patterns</a></li>
<li><a href="#tiers">Application Tiers</a></li>
<li><a href="#website">Building a Website</a></li>
<li><a href="#project">Setting-up the project</a></li>
</ul>

<h2><a id="principles"/>Architectural principles</h2>

<p>When you design an architecture you must consider several aspects.</p>
<ol>
<li>Multiple stakeholders: Applications are usually design for multiple category of users: business managers, owners, users and operators. Design must consider the security and access to different application features by different stakeholders.</li>
<li>Separation of concerns: This is a way to reduce complexity level of software components. Each component must be simple and must perform a single job. Another component is responsible for dispatching the jobs and orchestrate the workflow.</li>
<li>Conceptual integrity: architecture of a software system represents an overall vision of what it should do and how. The architect assumes the role of "keeper of the vision", making sure that additions to the system are in line with the architecture.</li>
<li>Safety guardrails: when you design an architecture you create restriction rules or constrains for specific components. For example in a 3 tier architecture the user interface can communicate only with business layer but not directly with the database.</li>
<li>Foolproof safety: means infallible, or so simple or well-made that nothing can go wrong. It's synonyms are reliable, guaranteed, flawless. There's no such word as foolproof. If a fool is lacking in good sense, the opposite is someone shrewd.</li>
</ol>

<h2><a id="quality"/>System quality</a></h2>

<p>In the past the focus of designers was to resolve multiple requirements and implement features for the system as fast as possible. This approach can lead to accumulation of technical dept and poor quality. Any project who do not focus on higher quality is doomed to failure.</p>

<div align="center">
    <img src="img/quality.png" width="320" class="img-fluid protect rounded shadow border"
    alt="Software Quality"/>
</div>

<hr/>

<p><b>System attributes</b></p>

<p>I engineering we have a theory that analyze systems. This theory include concepts and principles that can be extended to software. Next we enumerate some of these concepts:
</p>

<ul>
<li>fault-tolerance,</li>
<li>backward compatibility,</li>
<li>extensible,</li>
<li>reliability,</li>
<li>maintainability,</li>
<li>availability,</li>
<li>security,</li>
<li>usability.</li>
</ul>

<p>Your project should address and monitor all these aspects of quality. Identification of quality issues is a profession. There are quality specialists that can perform code review and quality assessment. These persons are very expensive and difficult to have in a company, therefore Software Developers must cover some of these skills.</p>

<h2><a id="code"/>Code Quality</h2>

<p>One of most important concerns of Software Architecture is to establish rules and guidelines for making code of higher quality. After many years of practice we have come to appreciate for some design patterns that can be used to create better code. Next we explain the attributes and considerations for making your code <em>sage</em>.</p>

<h4>Code attributes</h4>

<div class="alert alert-secondary">To achieve greater software quality, you start with the source code. If this is not clean then the entire codebase suffer and the final software product will have lower quality. We are pointing out top quality attributes, so that you and your team can learn how to write better code.</div>

<table class="table table-striped table-bordered">
<thead>
<tr>
<th>#</th>
<th>Code attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>comprehensive</td>
<td>readable, consistent, organized</td>
</tr>
<tr>
<tr>
<td>2</td>
<td>documented</td>
<td>use comments and annotations</td>
</tr>
<tr>
<td>3</td>
<td>modular</td>
<td>use separation of concerns</td>
</tr>
<tr>
<td>4</td>
<td>testable</td>
<td>make small sub-programs and functions</td>
</tr>
<td>5</td>
<td>maintainable</td>
<td>refactoring friendly, easy to debug</td>
</tr>
</tbody>
</table>

<p><b>Note:</b> Source code quality do not imply "performance" or "reliability", nor "efficiency" or "business value". Indeed these are also attributes to consider for software quality but they are related to final product not the source code. First think how developers write code and next be concerned about other quality aspects. We believe that code must be beautiful then correct then fast then efficient, in this order.</p>

<h3>Making Documentation</h3>

<p>Most languages are capable of self documented source code, using comments and annotations. It is important to know, some annotations can be parsed by a special program and converted in HTML pages automatically.</p>
<p>In our articles we use examples and comments to explain the essentials. Once you grasp the basics and start codding you will need more. There is nothing better or more complete than a good reference manual. Find it and read it!</p>
<p>We search the internet for add free documentation. Most of the time a computer language has a home page and reference manuals. We use some of these references ourselves when we make tutorial articles.</p>

<h3>Design principles</h3>

<p>When you design an application or a system you should describe some of your design principles and make them public. If you do not have time to make your own principles use next generic principles instead:</p>
<p><b>Modular:</b> a system is an aggregation of multiple sub-systems. The sub-systems collaborate and communicate using messages and rules. If your system is monolithic it will be harder to build, test and maintain. Apply KISS principles (Keep it Simple Stupid). This means just design the features that you need. Architectures that are more complex than necessary will result in sub-optimal systems. Breaking this rule is called over-engineering. This should be avoided.</p>
<p><b>Holistic:</b> A good system must define terminology and principles for definition of components and relations between them. A metaphor could help for building a theory using existing therms and analogy from real life.</p>
<p><b>Brilliance:</b> A system architecture must be conceptual elegant, but architects should not be blinded by the beauty of creation, and always review features with a pragmatic and detail-oriented eye.</p>

<h3>Coding Rules</h3>

<div class="alert alert-secondary">We describe next some rules that you can use in your future software projects to guide your design choices. These will help you establish built-in quality. Some of these principles are using common sense and look obvious but some other may surprise you.</div>

<h4>Basic rules</h4>
<ol>
<li>If the code is difficult to read it is wrong;</li>
<li>Split complex problems into simple parts;</li>
<li>Create reusable code. Do'nt repeat yourself;</li>
<li>Create comprehensive comments inside your code.</li>
<li>When you are not sure use parametrized sub-programs;</li>
</ol>

<h4>Sage advices</h4>
<ul>
<li>Never release or deploy untested software;</li>
<li>Store testing code and application code together;</li>
<li>Save and version control your configuration files;</li>
<li>Start your source files with a short comment;</li>
<li>Do not stay astray from left side of the screen;</li>
<li>Short lines of code are better than long lines;</li>
<li>Group global variables and constants in records or structures;</li>
<li>Create a local scope if possible. Local is better then the global;</li>
<li>It is better to define global constants than to use magic literals;</li>
<li>Use comments in your code and make references to documentation;</li>

<li>Create subroutines only if you need to. Subroutine call can be expensive;</li>
<li>Avoid unnecessary data movement by using references;</li>
<li>Favor explicit declarations against type inference or gradual types;</li>
<li>Favor explicit loop and stacks over recursive functions;</li>
<li>Favor different identifiers over subroutine overloading;</li>
<li>Do not be afraid of long identifier names for subroutines and variables;</li>
<li>Do not be afraid of long processes: create subroutines only when necessary;</li>
<li>Do not be afraid to do refectory whenever you think is necessary;</li>
<li>Do not create functionality that is not required: let the future to care about itself;</li>
<li>Favor declarative programming over imperative programming;</li>
<li>Favor imperative programming over functional programming;</li>
<li>Favor functional programming over object oriented programming;</li>
<li>Avoid deep class trees. They are hard to understand and debug;</li>
<li>Avoid classes with features and favor mix-in classes or traits instead;</li>
<li>Favor precondition checking over exception handling;</li>
<li>Favor efficient algorithms over parallel computing;</li>
</ul>

<h3>Naming Conventions</h3>

<p>The name of identifiers in a language can support several characters. In most languages identifier name usually starts with lowercase letters (a..z) or capital letters (A..Z) followed by one or more characters or numbers. No special characters or spaces are permitted in the name except underscore ("_").</p>
<p>A variable name can start or terminate with underscore or can contain underscores. The underscore is equivalent to space. So the identifiers that have space in a JSON or in a database can be mapped to internal variables that use an underscore instead of a space as identifier.</p>
<p><b>Examples:</b> These are invalid identifiers:</p>
<ul>
<li>one+two</li>
<li>1'st step</li>
<li>1a, 31_, c-3</li>
</ul>

<p><b>Examples:</b> These are valid identifiers:</p>

<ul>
<li>this_is_good</li>
<li>first_step</li>
<li>a1,a2,a3</li>
<li>a, b, c, i, k, m, n, p, q, t</li>
</ul>

<h3>Naming variables</h3>

<p>Variables usually have a meaning or a purpose therefore variable must have a proper name. Variables can&rsquo;t use as names the language reserved keywords. Therefore we advise for variables to use a prefix all the time.</p>
<p>"v_" is a good prefix for variables; "p_" is a good prefix for parameters;</p>
<p>Using prefix is good but sometimes this is not good enough. When this is the case, you can give creative names to variables to make your code even more readable.</p>

<p><b>Example:&nbsp;</b>In next Python example we name a logical variable: URGENT and use "==" operator. By not using a prefix for logical variable we make a very readable program.</p>

<pre><code class="language-python"># python code
URGENT = True
if situation == URGENT:
    print("this is an emergency")
else:
    print("this is a normal situation")
pass # end if</code></pre>


<p><b>Your convention:&nbsp;</b>You may setup your own naming conventions. Just make sure all developers in your team follow the same convention. Otherwise some developers will use one style while others will try to use something different and your conceptual brilliance will be shadowed by a messy implementation.</p>

<h3>Automatic Formatting</h3>

<p>Avoid it! It can cause a disaster when your code is versioned. Automatic formatting is available for some languages and is a program that modify your source code to look nice. I strongly advice against it. You can be fired if you do not listen this advice.</p>
<p>Doing automating formatting for totally new code can be beneficial for learning how your code should look like. You can apply automatic formatting in early stage of a new file but never to an older file. Later code review will be impossible. I advice you to do only manual code re-formatting.</p>


<h2><a id="patterns"/>Design Patterns</h2>

<p>A design pattern is a general, reusable solution to a commonly occurring problem in software architecture within a given context. There are many recognized architectural patterns and styles, among them:</p>
<ul>
<li>Blackboard</li>
<li>Client-server (3-tier, n-tier, cloud computing )</li>
<li>Component-based</li>
<li>Data-centric</li>
<li>Event-driven versus Implicit invocation</li>
<li>Layered versus Multilayered architecture</li>
<li>Monolithic application</li>
<li>Peer-to-peer (P2P)</li>
<li>Pipes and filters</li>
<li>Plug-ins</li>
<li>Representational state transfer (REST)</li>
<li>Rule-based</li>
<li>Service-oriented</li>
<li>Micro-service architecture</li>
<li>Shared nothing architecture</li>
<li>Space-based architecture</li>
<li>Data-centric architecture</li>
</ul>

<h2><a id="tiers"/>Application Tiers</h2>

<p>In many software systems we use a database on a server to organize large amount of data. When we use a database server the application is centralized. A database can be used in many different architecture patterns:</p>
<ul>
<li>Single tier architecture;</li>
<li>Two tier architecture;</li>
<li>Three tier architecture;</li>
<li>Multi tier architecture;</li>
<li>Peer-to-peer architecture;</li>
</ul>

<h3>What is Client &ndash; Server ?</h6>

<p>In picture below we can see the general idea of a client-server architecture. All clients are connected to a central server that store the database. The client send messages to the server and receive information. This way all the clients can communicate to the server but they can't communicate to each-other.</p>

<div align="center">
  <img src="img/client-server.jpg" alt="data center" srcset="img/client-server.svg"
  width="520" class="img-fluid protect rounded shadow border" >
  <p>Distributed Architecture</p>
</div>


<h3>What is n-tier architecture?</h3>

<p>In this architecture there are several clients connected in a local network. The clients are connector through a <em>"router"</em>. The router is connected to an <em>"application server"</em> that is also connected to a <em>database server</em>. Of course, other local networks can be connected to the same <em>"data center"</em>.</p>

<div align="center">
  <img src="img/n-tier.jpg" alt="data center" srcset="img/n-tier.svg"
  width="520" class="img-fluid protect rounded shadow border" >
  <p>Multi Tier Architecture</p>
</div>


<h3>What is peer-to-peer architecture?</h3>

<p>A peer-to-peer (P2P) architecture consists of a decentralized network of peers - nodes that are both clients and servers. P2P networks distribute the workload between peers, and all peers contribute and consume resources within the network without the need for a centralized server.</p>

<div align="center">
  <img src="img/p2p.jpg" alt="peer 2 peer" srcset="img/p2p.svg"
  width="520" class="img-fluid protect rounded shadow border" >
  <p>P2P Architecture</p>
</div>

<h3>What is a web service?</h3>

<p>A <em>service</em> in general is a kind of application that do not have user interface of it's own. This application start automatic when the server start and resides in memory until the server is shut-down. A <em>web service</em> is a small program that is run by a <em>application server</em>. A <em>web service</em> can create JSON response stream or file on request. The <em>application server</em> can send this response to client using http protocol.</p>

<h3>What is a dynamic web page?</h3>

<p>The dynamic web page is a special HTML page that is loaded in the web browser and has JavaScript code inside. So the web browser now is smart and has a user interface ready for interaction. Inside the HTML we have AJAX application based on JavaScript. This can send request and receive response from a Web Service. The client application will use JavaScript to parse JSON data and modify the page content.</p>

<h3>What is a cloud architecture?</h3>

<p>This is general concept of a cloud based architecture. The server is somewhere on the internet and can be one or more servers. Clients are devices and computers distributed over the world.</p>

<div align="center">
  <img src="img/Internet.jpg" alt="data center" srcset="img/Internet.svg"
  width="520" class="img-fluid protect rounded shadow border" >
  <p>Cloud Architecture</p>
</div>

<h3>What is a server-less architecture?</h3>

<p>Serverless computing (or serverless for short), is an execution model where the cloud provider (AWS, Azure, or Google Cloud) is responsible for executing a piece of code by dynamically allocating the resources. </p>

<p>Serverless is sometimes referred to as “Functions as a Service” or “FaaS”. Following are the FaaS offerings of the major cloud providers:</p>

<ul>
<li>AWS: AWS Lambda</li>
<li>Microsoft Azure: Azure Functions</li>
<li>Google Cloud: Cloud Functions</li>
</ul>

<h4>Clarification:</h4>

<p>Serverless architecture is very different from P2P. It does involve servers, except these servers are not dedicated to your application. Servers are shared between many applications. You pay only for the resources used and not for renting and locking resources for a period of time..</p>

<h4>Terminology:</h4>

<ul>
<li>Micro-services</li>
<li>Stateless</li>
<li>Container</li>
<li>Cold start</li>
<li>Warm start</li>
</ul>

<p>Serverless technology is based on <em>stateless</em> functions that run inside a <em>container</em>. This need a "warm-up" time you have to consider when you call a function. The duration of cold start depends on the runtime (language) and the function size. The architecture of serverless applications must consider these challenges.</p>

<h2><a id="website"/>Building a Website</h2>

<p>To build a website you can use HTML/CSS and JavaScript. HTML/CSS are not Turing complete programming languages. You can do static pages using only HTML. Fortunately the web browsers are programmable platforms. You can interact with these programs using JavaScript.</p>

<h3>General approach</h3>

<p>Your career will greatly benefit from making a website. You should follow these basic principles:</p>
<ol>
<li>Make it work</li>
<li>Make it right</li>
<li>Make it fast</li>
<li>Keep it simple</li>
</ol>
<p>In this order, but number 4 should be considered from start. Complexity can kill a project sooner or later. Making a site work is not so simple and is the first step because you must start with a prototype and then improve.</p>

<h3>Front End</h3>
<p>To do the front-end you need HTML+CSS &amp; JavaScript. If you learn these languages you can make websites but also desktop applications. HTML+CSS are two languages actually. But you learn them together. Some people argue that these are not languages but do not listen to them. These both are programming languages, more precise: data oriented language.</p>

<p>JavaScript is very specific to web programming. It can be used for making a dynamic website. Usually belong to front-end design but can be used also for back-end programming. It has a very small runtime and it can be executed into a browser.</p>

<p><b>no patience? you can jump to:</b></p>
<ul>
<li><a href="../html/index.html">Learning: HTML&amp;CSS</a></li>
<li><a href="../javascript/index.html">Learning: JavaScript</a></li>
</ul>

<h3>Back end</h3>

<p>You can write back-end programs using any of the following languages: Python, Java, Julia, Go, Ruby &hellip; In general each language has it's own back-end framework. Though when you use a framework it become fuse what part is the front end (View/Model) and what part is the back-end (Model/Controller)</p>

<p>JavaScript has evolved and now you can do the back-end using JavaScript. Using same language for both back-end and front-end can be appealing. This will give you productivity.</p>

<p>For JavaScript back-end you need to use a Node.JS engine and a <em>Web Framework</em>. This framework can be one of: {Ember, Angular, React or Vue}. I think the best framework right now is Vue. React is now more popular and used by companies. Angular people say is overengineered and will be abandoned by Google sooner or later.</p>


<p>Select one of the languages: {Python, Ruby, Julia, Go, Rust, C++, Java, Scala}. These are used for server-side/(back-end)  and system programming. These languages are preferred by back-end developers. If you learn at least one language in this category you can perform professional development tasks in a company. You should apply for a job or continue your freelancing activity on next level.</p>

<p><b>comments:</b></p>
<ol>
<li>Python is a mandatory language for freelancers. I prefer Ruby, but Python is more popular and is on high demand. Python is not so easy to learn as JavaScript.It is because Python is a multi-paradigm language while JavaScript is a functional language. If you learn python as your first computer language you will understand JavaScript faster.</li>
<li>C language is as easy to learn, but is less useful for freelancers. It is more used for System Programming by companies. Do not start learning the programming concepts using this language. You will have hard time understanding and will get irreparable "brain damage" that is hard to fix later using another language. We recommend Rust instead of C as your first system language.</li>
<li>Go and Rust languages are almost in competition. Rust is better then Go, but Go is more easy to learn than Rust. As a freelancer, you should learn Go but a system programmer should learn Rust. Chose your language careful since Rust is more difficult than Go and both are more difficult to learn than C. However C is not very friendly and unsafe while Rust and Go both are safe languages.</li>
<li>Ruby, Julia and Python languages are in tight competition. Julia is very new but not at all behind. Now you can learn and use Julia for finding a job. This is a very good language in my opinion. I like Julia a lot but I prefer to use Ruby since Julia is not yet available on Amazon AWS cloud and is not yet popular.</li>
<li>Java and SQL are traditional back-end languages. These you should be learning in school. So we do not focus on these languages. However we will have an introductory tutorial to get you started. You can learn these languages if you are looking for a permanent position in a company but these are not good languages for a startup project. Both SQL and Java are harshly criticized and replaced by NoSQL and functional programming languages like Julia, Go and Rust.</li>
</ol>

<h2><a id="project"/>Setting-up a project</h2>

<p>Here's some things you must do to set-up a project. At the beginning you may be working alone but you will probably add some more people in a few months and it's not going so smoothly if you do not set-up the project properly. Let's say you currently work at a company on some big Web development , software &amp; programming projects. You do everything by yourself from back-end to front-end. What is wrong with this?</p>
<p>It is not very good to do all by yourself. In computer programming we work in a team. Somebody is doing something and someone else is doing something different. The collaboration is helping team members to learn from each other. This is how we can build larger projects.</p>
<p><b>The 10 steps to create a project</b></p>
<ol>
<li>First you must learn to use a version control software, preferably git or mercurial. You check-in the empty project from the beginning. Do not wait until the project grow, it may be too late.</li>
<li>Write unit tests. I've always scoffed at them because they only test the cases you've thought of, and you probably already thought of them when you wrote the code you're testing, but once your project grows and you add people to the team, you're going to wish you'd done it.</li>
<li>Have separate development, test and production servers so you can have people looking at your stuff on test while you break stuff on development environment. Use a labeling or branching system in your version control so you can always go back to the code that's running on each server. If a problem comes up in production while you're working on a new whiz-bang new feature in development, you want to be able to put aside the new feature and fix it in the production version.</li>
<li>Deploying code to development should be automatic as soon as you check in. Deploying to test and production should either be automatic or a single click.</li>
<li>Make sure your boss and other stake holders actually look at the site on test before you deploy to production. Try to get some of the people who will actually use the site involved in usability testing. Listen to them, but don't let them design the thing.</li>
<li>Make sure your code has clear division of responsibility- don't mix the access control in the middle of the business logic and the UI.</li>
<li>Use a web framework like Twitter bootstrap. Sometimes you'll be fighting with it, but it will take a lot of the burden of getting a consistent UI off your hands.</li>
<li>Use a good framework like Svelte or Vue for JavaScript back-end.This will organize your application and will have better integration with the front-end.</li>
<li>If you use Python, use a good framework like Django or Flask. Make sure it supports or at least doesn't prevent you from doing AJAX front-end and asynchronous jobs.</li>
<li>If you like higher performance, try to make <em>responsive web pages</em> using Vanilla JavaScript and CSS. Your page should work on any monitor size from very large to very small. Some users have secondary monitor in portrait mode and some are using multiple monitors. Having the applications design for a fix size is a huge mistake.</li>
</ol>

<p><b>Hosting:</b>&nbsp; After you create a web-site on your computer, you have to deploy it to a web host server to be visible over the internet. Hosting a website is not easy. You need a domain name, and this cost's you money. Then you need to know how to connect to the server and upload files.</p>


<p>I hope you enjoy this reading.</p>

<hr>
<p><b>Read next:</b>
<a href="testing.html">Software Testing</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>
</div>
</body>
</html>